@model ViewModels.ProductDetailViewModel
@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/FrontEnd/_FrontEndLayout.cshtml";
}

<div class="gallery-detail">
    <img src="@Model.Product.ImageUrl" />
    <a href="/artist/@Model.Product.Code">@Model.Product.Artist.FullNameSrt</a>
    <span class="rfloat">
        @if (!Model.IsLike)
        {
            <i class="fa fa-2x fa-heart-o" onclick="LikeProduct('true');"></i>
        }
        else
        {
            <i class="fa fa-2x fa-heart color-red" onclick="LikeProduct('false');"></i>
        }
    </span>
    <p class="color-silver mrt10"><span>@Model.Product.Width x @Model.Product.Height / @Model.Product.CreateYear</span></p>
    <p class="color-silver">@Model.Product.ProductGroup.TitleSrt</p>
    <div class="mrt40 mrb40 detail-height">
        <div class="price">@Model.Product.AmountStr</div>
        <button class="btn-shopping">@Resources.Label.Buy</button>
    </div>
    <h4 class="author-title">@Model.Product.Artist.FullNameSrt</h4>
    <p class="color-silver justify">@Model.Product.Artist.SummerySrt</p>
    <div class="readmore"><a href="/artist/@Model.Product.Code">@Resources.Label.More</a></div>
</div>
@section scripts{
    <script>
    function LikeProduct(isLike)
    {

        $.ajax({
            data: { id:'@Model.Product.Id',islike: isLike },
            url: '/products/LikeDisLikeProduct',
            type: 'POST'
        }).done(function (result) {

            if (result == "false")
            {
                alert("error");
            }
            else {
                if (isLike == 'true') {
                    $(this).removeClass("fa-heart-o");
                    $(this).addClass("fa-heart");
                    $(this).addClass("red-color");
                }
                else {
                    $(this).removeClass("fa-heart");
                    $(this).addClass("fa-heart-o");
                    $(this).removeClass("red-color");
                }
                window.location.reload();
            }

        });
    }
    </script>
}